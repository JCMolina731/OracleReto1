--RETO N° 01 ---
--CREACION DE LAS BASE DE DATOS--
 
--CREACION DE LA TABLA GERENTE--
CREATE TABLE GERENTE(
    IDGERENTE number PRIMARY KEY,
    DESCGERENTE varchar(30),
    FECHAREGISTRO date
)SEGMENT CREATION IMMEDIATE 
PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
TABLESPACE "SYSAUX" ;
-----------------------------------------

--CREACION DE LA TABLA CONDICION--
CREATE TABLE CONDICION(
    IDCONDICION number PRIMARY KEY,
    DESCCONDICION varchar(30),
    FECHAREGISTRO date
)SEGMENT CREATION IMMEDIATE 
PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
TABLESPACE "SYSAUX" ;
-----------------------------------------

--CREACION DE LA TABLA SEDE--
CREATE TABLE SEDE(
    IDSEDE number PRIMARY KEY,
    DESCSEDE varchar(30),
    FECHAREGISTRO date
)SEGMENT CREATION IMMEDIATE 
PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
TABLESPACE "SYSAUX" ;
-----------------------------------------

--CREACION DE LA TABLA PROVINCIA--
CREATE TABLE PROVINCIA(
    IDPROVINCIA number PRIMARY KEY,
    DESCPROVINCIA varchar(30),
    FECHAREGISTRO date
)SEGMENT CREATION IMMEDIATE 
PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
TABLESPACE "SYSAUX" ;
-----------------------------------------


--CREACION DE LA TABLA DISTRITO--
CREATE TABLE DISTRITO(
    IDDISTRITO number PRIMARY KEY,
    IDPROVINCIA number,
    DESCDISTRITO varchar(30),
    FECHAREGISTRO date,
    CONSTRAINT FK_PROVINCIA FOREIGN KEY (IDPROVINCIA) REFERENCES PROVINCIA(IDPROVINCIA)
)SEGMENT CREATION IMMEDIATE 
PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
TABLESPACE "SYSAUX" ;
-----------------------------------------

--CREACION DE LA TABLA HOSPITAL--
CREATE TABLE HOSPITAL(
    IDHOSPITAL  number PRIMARY KEY,
    IDDISTRITO number,
    NOMBRE varchar(30),
    ANTIGUEDAD number,
    AREA number,
    IDSEDE number,
    IDGERENTE number,
    IDCONDICION number,
    FECHAREGISTRO date,
    CONSTRAINT FK_HOSPITAL_DISTRITO FOREIGN KEY (IDDISTRITO) REFERENCES DISTRITO(IDDISTRITO),
    CONSTRAINT FK_HOSPITAL_SEDE FOREIGN KEY (IDSEDE) REFERENCES SEDE(IDSEDE),
    CONSTRAINT FK_HOSPITAL_GERENTE FOREIGN KEY (IDGERENTE) REFERENCES GERENTE(IDGERENTE),
    CONSTRAINT FK_HOSPITAL_CONDICION FOREIGN KEY (IDCONDICION) REFERENCES CONDICION(IDCONDICION)
)SEGMENT CREATION IMMEDIATE 
PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
TABLESPACE "SYSAUX" ;
-----------------------------------------

--INSERTAR DATOS EN LAS TABLAS--

--INSERTANDO DATOS EN GERENTE--
REM INSERTING into RETO1DB.GERENTE
SET DEFINE OFF;
INSERT INTO GERENTE(IDGERENTE, DESCGERENTE, FECHAREGISTRO) VALUES (1, 'Juan Pérez', TO_DATE('2023-01-15', 'YYYY-MM-DD'));
INSERT INTO GERENTE(IDGERENTE, DESCGERENTE, FECHAREGISTRO) VALUES (2, 'María López', TO_DATE('2023-02-20', 'YYYY-MM-DD'));
INSERT INTO GERENTE(IDGERENTE, DESCGERENTE, FECHAREGISTRO) VALUES (3, 'Carlos Sánchez', TO_DATE('2023-03-10', 'YYYY-MM-DD'));
INSERT INTO GERENTE(IDGERENTE, DESCGERENTE, FECHAREGISTRO) VALUES (4, 'Ana García', TO_DATE('2023-04-05', 'YYYY-MM-DD'));
INSERT INTO GERENTE(IDGERENTE, DESCGERENTE, FECHAREGISTRO) VALUES (5, 'Luis Fernández', TO_DATE('2023-05-25', 'YYYY-MM-DD'));


--INSERTANDO DATOS EN CONDICION--
REM INSERTING into RETO1DB.CONDICION
SET DEFINE OFF;
INSERT INTO CONDICION(IDCONDICION, DESCCONDICION, FECHAREGISTRO) VALUES (1, 'Funcionamiento Normal', TO_DATE('2024-01-15', 'YYYY-MM-DD'));
INSERT INTO CONDICION(IDCONDICION, DESCCONDICION, FECHAREGISTRO) VALUES (2, 'Sobrecapacidad', TO_DATE('2024-02-20', 'YYYY-MM-DD'));
INSERT INTO CONDICION(IDCONDICION, DESCCONDICION, FECHAREGISTRO) VALUES (3, 'Mantenimiento', TO_DATE('2024-03-10', 'YYYY-MM-DD'));
INSERT INTO CONDICION(IDCONDICION, DESCCONDICION, FECHAREGISTRO) VALUES (4, 'Emergencia', TO_DATE('2024-04-05', 'YYYY-MM-DD'));
INSERT INTO CONDICION(IDCONDICION, DESCCONDICION, FECHAREGISTRO) VALUES (5, 'Cierre Temporal', TO_DATE('2024-05-25', 'YYYY-MM-DD'));


--INSERTANDO DATOS EN SEDE--
REM INSERTING into RETO1DB.SEDE
SET DEFINE OFF;
INSERT INTO SEDE(IDSEDE, DESCSEDE, FECHAREGISTRO) VALUES (1, 'Hospital Central', TO_DATE('2024-01-15', 'YYYY-MM-DD'));
INSERT INTO SEDE(IDSEDE, DESCSEDE, FECHAREGISTRO) VALUES (2, 'Clínica Norte', TO_DATE('2024-02-20', 'YYYY-MM-DD'));
INSERT INTO SEDE(IDSEDE, DESCSEDE, FECHAREGISTRO) VALUES (3, 'Centro Médico Este', TO_DATE('2024-03-10', 'YYYY-MM-DD'));
INSERT INTO SEDE(IDSEDE, DESCSEDE, FECHAREGISTRO) VALUES (4, 'Hospital del Sur', TO_DATE('2024-04-05', 'YYYY-MM-DD'));
INSERT INTO SEDE(IDSEDE, DESCSEDE, FECHAREGISTRO) VALUES (5, 'Policlínico Oeste', TO_DATE('2024-05-25', 'YYYY-MM-DD'));

--INSERTANDO DATOS EN PROVINCIA--
REM INSERTING into RETO1DB.PROVINCIA
SET DEFINE OFF;
INSERT INTO PROVINCIA(IDPROVINCIA, DESCPROVINCIA, FECHAREGISTRO) VALUES (1, 'San José', TO_DATE('2024-01-15', 'YYYY-MM-DD'));
INSERT INTO PROVINCIA(IDPROVINCIA, DESCPROVINCIA, FECHAREGISTRO) VALUES (2, 'Alajuela', TO_DATE('2024-02-20', 'YYYY-MM-DD'));
INSERT INTO PROVINCIA(IDPROVINCIA, DESCPROVINCIA, FECHAREGISTRO) VALUES (3, 'Cartago', TO_DATE('2024-03-10', 'YYYY-MM-DD'));
INSERT INTO PROVINCIA(IDPROVINCIA, DESCPROVINCIA, FECHAREGISTRO) VALUES (4, 'Heredia', TO_DATE('2024-04-05', 'YYYY-MM-DD'));
INSERT INTO PROVINCIA(IDPROVINCIA, DESCPROVINCIA, FECHAREGISTRO) VALUES (5, 'Guanacaste', TO_DATE('2024-05-25', 'YYYY-MM-DD'));

--INSERTANDO DATOS EN DISTRITO--
REM INSERTING into RETO1DB.PROVINCIA
INSERT INTO DISTRITO(IDDISTRITO, IDPROVINCIA, DESCDISTRITO, FECHAREGISTRO) VALUES (1, 1, 'Carmen', TO_DATE('2024-01-15', 'YYYY-MM-DD'));
INSERT INTO DISTRITO(IDDISTRITO, IDPROVINCIA, DESCDISTRITO, FECHAREGISTRO) VALUES (2, 1, 'Merced', TO_DATE('2024-01-20', 'YYYY-MM-DD'));
INSERT INTO DISTRITO(IDDISTRITO, IDPROVINCIA, DESCDISTRITO, FECHAREGISTRO) VALUES (3, 2, 'San Isidro', TO_DATE('2024-02-10', 'YYYY-MM-DD'));
INSERT INTO DISTRITO(IDDISTRITO, IDPROVINCIA, DESCDISTRITO, FECHAREGISTRO) VALUES (4, 2, 'San José', TO_DATE('2024-02-15', 'YYYY-MM-DD'));
INSERT INTO DISTRITO(IDDISTRITO, IDPROVINCIA, DESCDISTRITO, FECHAREGISTRO) VALUES (5, 3, 'Oriental', TO_DATE('2024-03-05', 'YYYY-MM-DD'));
INSERT INTO DISTRITO(IDDISTRITO, IDPROVINCIA, DESCDISTRITO, FECHAREGISTRO) VALUES (6, 3, 'Occidental', TO_DATE('2024-03-10', 'YYYY-MM-DD'));
INSERT INTO DISTRITO(IDDISTRITO, IDPROVINCIA, DESCDISTRITO, FECHAREGISTRO) VALUES (7, 4, 'Heredia', TO_DATE('2024-04-01', 'YYYY-MM-DD'));
INSERT INTO DISTRITO(IDDISTRITO, IDPROVINCIA, DESCDISTRITO, FECHAREGISTRO) VALUES (8, 4, 'Mercedes', TO_DATE('2024-04-05', 'YYYY-MM-DD'));
INSERT INTO DISTRITO(IDDISTRITO, IDPROVINCIA, DESCDISTRITO, FECHAREGISTRO) VALUES (9, 5, 'Liberia', TO_DATE('2024-05-20', 'YYYY-MM-DD'));
INSERT INTO DISTRITO(IDDISTRITO, IDPROVINCIA, DESCDISTRITO, FECHAREGISTRO) VALUES (10, 5, 'Nicoya', TO_DATE('2024-05-25', 'YYYY-MM-DD'));


--Índice Único para la Tabla GERENTE--
CREATE UNIQUE INDEX GERENTE_PK ON GERENTE ("IDGERENTE") 
;

--Índice Único para la Tabla CONDICION--
CREATE UNIQUE INDEX CONDICION_PK ON CONDICION ("IDCONDICION") 
;

-- Índice Único para la Tabla SEDE--
CREATE UNIQUE INDEX SEDE_PK ON SEDE ("IDSEDE") 
;

--Índice Único para la Tabla PROVINCIA--
CREATE UNIQUE INDEX PROVINCIA_PK ON PROVINCIA ("IDPROVINCIA") 
;

--Índice Único para la Tabla DISTRITO--
CREATE UNIQUE INDEX DISTRITO_PK ON DISTRITO ("IDDISTRITO") 
;